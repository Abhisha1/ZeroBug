<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Firebase Web</title>

        <script src="https://cdn.firebase.com/libs/firebaseui/2.6.2/firebaseui.js"></script>
        <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/2.6.2/firebaseui.css">
    </head>
    <body>
        <!-- The core Firebase JS SDK is always required and must be listed first -->
        <script src="https://www.gstatic.com/firebasejs/6.4.2/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/6.4.1/firebase-database.js"></script>

        <!-- TODO: Add SDKs for Firebase products that you want to use
            https://firebase.google.com/docs/web/setup#config-web-app -->
        
        <script>
        // Your web app's Firebase configuration
        var firebaseConfig = {
            apiKey: "AIzaSyAujw1w776QRk4ZYj3tVclaomrkOARo1z4",
            authDomain: "zerobug-f79e9.firebaseapp.com",
            databaseURL: "https://zerobug-f79e9.firebaseio.com",
            projectId: "zerobug-f79e9",
            storageBucket: "zerobug-f79e9.appspot.com",
            messagingSenderId: "2352440774",
            appId: "1:2352440774:web:770176e78ba34432"
        };
        // Initialize Firebase
        /*firebase.initializeApp(firebaseConfig);


        // Get a reference to the database service
        var database = firebase.database();

        // write data to the database
        function writeUserData(userId, name, email, pwd) {
            firebase.database().ref('users/' + userId).set({
                username: name,
                email: email,
                password : pwd

            // add a completion callback    
            }, function(error) {
                if (error) {
                    // The write failed...
                    console.log("Written data FAILED");

                } else {
                    // Data saved successfully!
                    console.log("Successfully append the data!");

                }
            });
        }
        //writeUserData("HYvnIcgGjn1uLDzg51Pm", "Jen", "chen@gmail.com", "123");
        //writeUserData("04", "Jen", "chen@gmail.com", "123");
        //writeUserData("05", "Jeniiiiii", "chen@gmail.com", "12345");

        //get the data from the database
        var userId = "02";
        firebase.database().ref('/users/' + userId).once('value').then(function(snapshot) {
            var username = (snapshot.val() && snapshot.val().username) || 'Anonymous';
            var email = (snapshot.val() && snapshot.val().email) || 'Anonymous';
            var password = (snapshot.val() && snapshot.val().password) || 'Anonymous';
            console.log(username);
            console.log(email);
            console.log(password);
        });

        // update data and add the same data into two paths
        function writeNewPost(uid, username, pwd) {
            // A post entry.
            var postData = {
                author: username,
                uid: uid,
                password: pwd
            };

            // Get a key for a new Post.
            var newPostKey = firebase.database().ref().child('posts').push().key;

            // Write the new post's data simultaneously in the posts list and the user's post list.
            var updates = {};
            updates['/posts/' + newPostKey] = postData;
            updates['/user-posts/' + uid + '/' + newPostKey] = postData;

            return firebase.database().ref().update(updates);
        }*/
        //writeNewPost("100", "jennn", "456");
        //writeNewPost("100", "jennn", "789");


        // Delete the user data by updated the user details to null with reference of the userID
        //writeNewPost("100", null, null);

        </script>
    </body>
</html>
